## C_Languages l 220728



#### 1. 플래그를 사용

int 형 변수 8개를 선언하여 각각 상태를 저장하면 간단하나, 플래그를 사용하는 이유는 적은 공간에 정보를 저장해야하고 빠른 속도가 필요할 때 사용한다. 가장 대표적인 장치가 CPU 이었는데, CPU는 내부 저장 공간이 매우 작으므로 각종 상태를  비트를 저장합니다.



```c
#include <stdio.h>

int main()
{
	unsigned char flag = 0;

	flag |= 1; //0000 0001 마스크와 비트 OR로 여덟 번째 비트를 켬
	flag |= 2; //0000 0010 마스크와 비트 OR로 일곱 번째 비트를 켬
	flag |= 4;	// 0000 0100 마스크와 비트 OR로 여섯 번째 비트를 켬

	printf("%u\n", flag);	//7: 0000 0111

	if (flag & 1)	//& 연산자로 0000 0001 비트가 켜져 있는지 확인
		printf("0000 0001은 켜져 있음\n");
	else
		printf("0000 0001은 꺼져 있음\n");

	if (flag & 2)
		printf("0000 0010은 켜져 있음\n");
	else
		printf("0000 0010은 꺼져 있음\n");

	if (flag & 4)
		printf("0000 0100은 켜져 있음\n");
	else

		printf("0000 0100은 꺼져 있음\n");


	

	return 0;
}
```

- 플래그로 사용할 변수 |=  연산자와 숫자를 사용하여 특정 비트를 켭니다. 여기서 플래그의 비트를 조작하거나 검사할 때 사용하는 숫자를 마스크(mask)라고 합니다.
  - 0 |1 과 1|1은 1이므로 flag의 비트가 꺼져있으면 켜고 켜져있으면 그대로 유지한다.
  - & 연산자는 두 비트가 모두 1이어야 1이므로 연산결과가 마스크값이 나오면 비트값이 켜져있는 것이다.